<Window x:Class="SlickLadder.WPF.Demo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:SlickLadder.WPF.Controls;assembly=SlickLadder.WPF"
        Title="SlickLadder WPF Demo - High-Performance Price Ladder"
        Height="900" Width="900"
        Background="#0f0f0f">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Control Panel -->
        <Border Grid.Column="0" Background="#1a1a1a" Padding="20" BorderBrush="#333" BorderThickness="0,0,1,0">
            <StackPanel>
                <TextBlock Text="SlickLadder Demo"
                          FontSize="24"
                          FontWeight="Bold"
                          Foreground="White"
                          Margin="0,0,0,20"/>

                <!-- Market Data Controls -->
                <GroupBox Header="Market Data Simulation"
                         Foreground="White"
                         BorderBrush="#444"
                         Margin="0,0,0,20">
                    <StackPanel Margin="10">
                        <Button x:Name="StartButton"
                               Content="Start Market Data"
                               Click="StartButton_Click"
                               Height="35"
                               FontSize="14"
                               FontWeight="Bold"
                               Background="#22c55e"
                               BorderThickness="0"
                               Margin="0,0,0,10">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Foreground" Value="#ffffff"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsEnabled" Value="False">
                                            <Setter Property="Foreground" Value="#888888"/>
                                            <Setter Property="Background" Value="#444444"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <Button x:Name="StopButton"
                               Content="Stop Market Data"
                               Click="StopButton_Click"
                               Height="35"
                               FontSize="14"
                               FontWeight="Bold"
                               Background="#ef4444"
                               BorderThickness="0"
                               IsEnabled="False">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Foreground" Value="#ffffff"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsEnabled" Value="False">
                                            <Setter Property="Foreground" Value="#888888"/>
                                            <Setter Property="Background" Value="#444444"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                </GroupBox>

                <!-- Update Rate Dropdown -->
                <GroupBox Header="Update Rate"
                         Foreground="White"
                         BorderBrush="#444"
                         Margin="0,0,0,20">
                    <StackPanel Margin="10">
                        <TextBlock Text="Updates per second:" Foreground="White" Margin="0,0,0,5"/>
                        <ComboBox x:Name="UpdateRateCombo"
                                 Background="White"
                                 Foreground="#000000"
                                 BorderBrush="#444"
                                 FontSize="13"
                                 SelectedIndex="2"
                                 SelectionChanged="UpdateRateCombo_SelectionChanged">
                            <ComboBox.Resources>
                                <Style TargetType="ComboBoxItem">
                                    <Setter Property="Foreground" Value="#000000"/>
                                    <Setter Property="Background" Value="White"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsHighlighted" Value="True">
                                            <Setter Property="Background" Value="#3b82f6"/>
                                            <Setter Property="Foreground" Value="#ffffff"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ComboBox.Resources>
                            <ComboBoxItem Content="10 updates/sec" Tag="10"/>
                            <ComboBoxItem Content="100 updates/sec" Tag="100"/>
                            <ComboBoxItem Content="1,000 updates/sec" Tag="1000"/>
                            <ComboBoxItem Content="10,000 updates/sec" Tag="10000"/>
                        </ComboBox>
                    </StackPanel>
                </GroupBox>

                <!-- Feature Toggles -->
                <GroupBox Header="Display Options"
                         Foreground="White"
                         BorderBrush="#444"
                         Margin="0,0,0,20">
                    <StackPanel Margin="10">
                        <CheckBox x:Name="ShowVolumeBarsCheckbox"
                                 Content="Show Volume Bars"
                                 Foreground="White"
                                 IsChecked="True"
                                 Checked="ShowVolumeBarsCheckbox_Changed"
                                 Unchecked="ShowVolumeBarsCheckbox_Changed"
                                 Margin="0,0,0,10"/>

                        <CheckBox x:Name="ShowOrderCountCheckbox"
                                 Content="Show Order Count"
                                 Foreground="White"
                                 IsChecked="False"
                                 Checked="ShowOrderCountCheckbox_Changed"
                                 Unchecked="ShowOrderCountCheckbox_Changed"
                                 Margin="0,0,0,10"/>

                        <TextBlock Text="Level Removal Mode:" Foreground="White" Margin="0,0,0,5"/>
                        <ComboBox x:Name="RemovalModeCombo"
                                 Background="White"
                                 Foreground="#000000"
                                 BorderBrush="#444"
                                 FontSize="13"
                                 SelectedIndex="1"
                                 SelectionChanged="RemovalModeCombo_SelectionChanged">
                            <ComboBox.Resources>
                                <Style TargetType="ComboBoxItem">
                                    <Setter Property="Foreground" Value="#000000"/>
                                    <Setter Property="Background" Value="White"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsHighlighted" Value="True">
                                            <Setter Property="Background" Value="#3b82f6"/>
                                            <Setter Property="Foreground" Value="#ffffff"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ComboBox.Resources>
                            <ComboBoxItem Content="Show Empty Rows" Tag="ShowEmpty"/>
                            <ComboBoxItem Content="Remove Rows" Tag="RemoveRow"/>
                        </ComboBox>
                    </StackPanel>
                </GroupBox>

                <!-- Performance Metrics -->
                <GroupBox Header="Performance Metrics"
                         Foreground="White"
                         BorderBrush="#444">
                    <StackPanel Margin="10">
                        <TextBlock Foreground="White" Margin="0,0,0,5">
                            <Run Text="FPS: "/>
                            <Run x:Name="FpsText" Text="0.0" FontWeight="Bold" Foreground="#22c55e"/>
                        </TextBlock>

                        <TextBlock Foreground="White" Margin="0,0,0,5">
                            <Run Text="Avg Frame Time: "/>
                            <Run x:Name="FrameTimeText" Text="0.0" FontWeight="Bold"/>
                            <Run Text=" ms"/>
                        </TextBlock>

                        <TextBlock Foreground="White" Margin="0,0,0,5">
                            <Run Text="Bid Levels: "/>
                            <Run x:Name="BidCountText" Text="0" FontWeight="Bold"/>
                        </TextBlock>

                        <TextBlock Foreground="White" Margin="0,0,0,5">
                            <Run Text="Ask Levels: "/>
                            <Run x:Name="AskCountText" Text="0" FontWeight="Bold"/>
                        </TextBlock>

                        <TextBlock Foreground="White">
                            <Run Text="Spread: "/>
                            <Run x:Name="SpreadText" Text="$0.00" FontWeight="Bold" Foreground="#3b82f6"/>
                        </TextBlock>
                    </StackPanel>
                </GroupBox>

                <!-- Info -->
                <TextBlock Text="Architecture: Shared SkiaSharp Rendering"
                          Foreground="#888"
                          FontSize="10"
                          TextWrapping="Wrap"
                          Margin="0,20,0,0"/>
            </StackPanel>
        </Border>

        <!-- Price Ladder Display -->
        <Border Grid.Column="1" Background="#0f0f0f">
            <controls:PriceLadderControl x:Name="PriceLadder"/>
        </Border>
    </Grid>
</Window>
